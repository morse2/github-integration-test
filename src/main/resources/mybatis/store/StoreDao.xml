<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!-- generated by saadm -->
<mapper namespace="com.tuogo.store.infra.repository.mapper.StoreDao">
    <resultMap id="BaseResultMap" type="com.tuogo.store.domain.model.entities.Store">
        <id column="UIDPK" property="uidPk" jdbcType="VARCHAR"/>
        <result column="SAP_CODE" property="sapCode" jdbcType="VARCHAR"/>
        <result column="TAX_NR" property="taxNr" jdbcType="VARCHAR"/>
        <result column="TITLE" property="title" jdbcType="VARCHAR"/>
        <result column="CLOSE_DATE" property="closeDate" jdbcType="DATE"/>
    
    </resultMap>

    <sql id="Base_Column_List">
        UIDPK, SAP_CODE, TAX_NR, TITLE, CLOSE_DATE
    </sql>
    <sql id="Insert_Value_List">
        #{uidPk,jdbcType=VARCHAR},#{sapCode,jdbcType=VARCHAR},#{taxNr,jdbcType=VARCHAR},#{title,jdbcType=VARCHAR},#{closeDate,jdbcType=DATE}
    </sql>

    <!-- insert record -->
    <insert id="insert" statementType="PREPARED" parameterType="com.tuogo.store.domain.model.entities.Store">
        insert into T_INV_STORE (<include refid="Base_Column_List"/>)
        values (<include refid="Insert_Value_List"/>)
    </insert>
    <!-- select record by primary key -->
    <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.String">
        select <include refid="Base_Column_List"/> from T_INV_STORE
        where UIDPK = #{uidPk,jdbcType=VARCHAR}
    </select>
    <!-- delete record by primary key -->
    <delete id="deleteByPrimaryKey" parameterType="java.lang.String">
        delete from T_INV_STORE
        where UIDPK = #{uidPk,jdbcType=VARCHAR}
    </delete>
    <!-- update record by primary key -->
    <update id="updateByPrimaryKey" flushCache="true" parameterType="com.tuogo.store.domain.model.entities.Store">
        update T_INV_STORE
        <set>
            SAP_CODE = #{sapCode,jdbcType=VARCHAR},
            TAX_NR = #{taxNr,jdbcType=VARCHAR},
            <if test="title != null">
            TITLE = #{title,jdbcType=VARCHAR},
            </if>
            <if test="closeDate != null">
            CLOSE_DATE = #{closeDate,jdbcType=DATE},
            </if>
        </set>
        where UIDPK = #{uidPk,jdbcType=VARCHAR}
    </update>
    <!-- find -->
    <select id="find" parameterType="hashmap" resultMap="BaseResultMap">
        select <include refid="Base_Column_List"/> from T_INV_STORE
        <where>
            <if test="sapCode != null">
                and SAP_CODE = #{sapCode,jdbcType=VARCHAR}
            </if>
            <if test="taxNr != null">
                and TAX_NR = #{taxNr,jdbcType=VARCHAR}
            </if>
            <if test="title != null">
                and TITLE = #{title,jdbcType=VARCHAR}
            </if>
            <if test="closeDate != null">
                and CLOSE_DATE = #{closeDate,jdbcType=DATE}
            </if>
        </where>
            order by UIDPK desc
    </select>
</mapper>
